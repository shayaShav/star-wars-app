"use strict";function Swp(e){this.$onInit=function(){e.get_categories_keys()}}function AppMain(e){var t=this;t.$onInit=function(){t.categoriesService=e}}function NavigationBar(e){var t=this;t.$onInit=function(){t.categoriesService=e},t.linkClick=function(t){e.get_category(t)}}function Category(e){var t=this;t.$onInit=function(){t.categoriesService=e}}function CategoryItemsList(e){var t=this;t.$onInit=function(){t.categoriesService=e}}function CategorySelectedItem(e){var t=this;t.$onInit=function(){t.categoriesService=e},t.filterArrayValues=function(e){return!Array.isArray(e)}}Swp.$inject=["categories"],AppMain.$inject=["categories"],NavigationBar.$inject=["categories"],Category.$inject=["categories"],CategoryItemsList.$inject=["categories"],CategorySelectedItem.$inject=["categories"],angular.module("Swp",["ngAnimate","ngMaterial","ui.router","AppMain","LoadingAnimation"]),angular.module("Swp").component("swp",{templateUrl:"static/swp/swp.template.html",controller:Swp}),angular.module("Swp").constant("swpConfig",function(){var e=angular.copy(window.SWP_CONFIG);return e.update_config_data=function(t){Object.assign(e,t)},e}()),angular.module("Swp").factory("categories",["$state","$stateParams","$http","$timeout","$mdMedia","swpConfig",function(e,t,a,r,i,o){var n={categories_keys:[],categories_data:{},categories_bookmarks_map:{},selected_category_index:null,selected_category_name:null,selected_category_item:null,selected_category_is_loading:!1,select_category_item:function(e){return n.selected_category_item=e},deselect_category_item:function(){return n.selected_category_item=null},get_categories_keys:function(){a({method:"GET",url:"/api/"}).then(function(e){n.categories_keys=Object.keys(e.data),n.selected_category_index=n.categories_keys.indexOf(t.category).toString()}).catch(function(e){return console.log("error loading categories list: ",e.statusText)})},get_category:function(t){if(n.selected_category_name=t,n.selected_category_index=n.categories_keys.indexOf(t),!n.categories_data[n.selected_category_name])return n.selected_category_is_loading=!0,a({method:"GET",url:"/api/"+n.selected_category_name+"/"}).then(function(a){n.categories_data[n.selected_category_name]=n.merge_local_bookmarks(a.data.results),i("xs")||(n.selected_category_item=n.categories_data[n.selected_category_name][0]),e.go("swp.main.category",{category:t})}).catch(function(e){return console.log("error loading category: ",e.statusText)}).finally(function(){return n.selected_category_is_loading=!1});n.selected_category_item=n.categories_data[n.selected_category_name][0],e.go("swp.main.category",{category:t})},toggle_category_item_bookmark:function(e){e.bookmarked=!e.bookmarked;var t=e.name||e.title;n.categories_bookmarks_map[n.selected_category_name][t]=e.bookmarked,localStorage.setItem(n.selected_category_name,JSON.stringify(n.categories_bookmarks_map[n.selected_category_name]))},merge_local_bookmarks:function(e){return localStorage[n.selected_category_name]?(n.categories_bookmarks_map[n.selected_category_name]=JSON.parse(localStorage[n.selected_category_name]),e.map(function(e){var t=e.name||e.title;return e.bookmarked=n.categories_bookmarks_map[n.selected_category_name][t],e})):n.categories_bookmarks_map[n.selected_category_name]={},e}};return n}]),angular.module("Swp").run(["$templateCache",function(e){e.put("static/swp/swp.template.html",'<div ui-view id="app-main-view"></div>\r\n<video id="app-video" playsinline autoplay muted>\r\n    <source ng-src="https://videos.pond5.com/space-ship-arrives-planet-footage-000881754_main_xxl.mp4" type="video/mp4">\r\n</video>\r\n'),e.put("static/swp/app-main/app-main.template.html",'<div layout="column" layout-align="space-around center" layout-fill>\r\n    \x3c!-- <div layout="row" layout-align="start center" flex="10"> --\x3e\r\n    <navigation-bar categories-list="$ctrl.categoriesService.categories_keys" layout="row" layout-align="center center" flex="10">\r\n    </navigation-bar>\r\n\r\n    \x3c!-- </div> --\x3e\r\n    <category ui-view id="category-view" flex="75"></category>\r\n</div>\r\n'),e.put("static/swp/app-main/category/category.template.html",'<div ng-class="[\'category-content\', {\'selected-item\': $ctrl.categoriesService.selected_category_item}]" layout="row" layout-align="space-between none">\r\n    <category-items-list category-items="$ctrl.categoriesService.categories_data[$ctrl.categoriesService.selected_category_name]" flex="40" layout-align="start center"></category-items-list>\r\n    <category-selected-item selected-item="$ctrl.categoriesService.selected_category_item" layout="column" layout-align="end center"></category-selected-item>\r\n</div>\r\n'),e.put("static/swp/app-main/navigation-bar/navigation-bar.template.html",'<md-tabs md-selected="$ctrl.categoriesService.selected_category_index" md-center-tabs="true">\r\n    <md-tab ng-repeat="category in $ctrl.categoriesService.categories_keys" md-on-select="$ctrl.linkClick(category)">\r\n        <md-tab-label>\r\n            {{category}}\r\n        </md-tab-label>\r\n    </md-tab>\r\n</md-tabs>\r\n'),e.put("static/swp/shared/loading-animation/loading-animation.template.html",'<div class="cssload-container">\r\n\t<div class="cssload-whirlpool"></div>\r\n</div>\r\n'),e.put("static/swp/app-main/category/category-items-list/category-items-list.template.html",'<md-list class="category-items-lists" ng-if="!$ctrl.categoriesService.selected_category_is_loading">\r\n    <md-list-item ng-repeat="item in $ctrl.categoryItems" ng-click="$ctrl.categoriesService.select_category_item(item)">\r\n        <img alt="{{ item.name }}" ng-src="/media/images/{{$ctrl.categoriesService.selected_category_name}}.png" class="md-avatar" />\r\n        <p class="item-name">{{ item.name || item.title }}</p>\r\n        <md-icon ng-click="$event.stopPropagation(); $ctrl.categoriesService.toggle_category_item_bookmark(item)" aria-label="Add to favorites">{{item.bookmarked ? \'favorite\' : \'favorite_outline\'}}</md-icon>\r\n    </md-list-item>\r\n</md-list>\r\n<loading-animation ng-if="$ctrl.categoriesService.selected_category_is_loading" layout="column" layout-align="center center" layout-fill></loading-animation>\r\n'),e.put("static/swp/app-main/category/category-selected-item/category-selected-item.template.html",'<div class="selected-item-container md-whiteframe-3dp" layout="column" layout-align="space-between center" layout-fill ng-if="!$ctrl.categoriesService.selected_category_is_loading">\r\n    <div class="item-title md-display-1" layout="row" layout-align="center start">{{$ctrl.selectedItem.name || $ctrl.selectedItem.title}}</div>\r\n\r\n    <div class="item-details" flex>\r\n        <div class="item-details-scroll" layout="column">\r\n            <div class="item-detail" ng-repeat="(key, value) in $ctrl.selectedItem" layout="row" ng-if="$ctrl.filterArrayValues(value)" layout-align="space-between none">\r\n                <span class="item-detail-key" layout-align="none start" flex="50">{{key}}</span><span class="item-detail-value" layout-align="none end" flex="50">{{value}}</span>\r\n            </div>\r\n        </div>\r\n    </div>\r\n\r\n    <div class="divider">\r\n    </div>\r\n\r\n    <div class="item-actions" layout="row" layout-align="space-between center">\r\n        <div hide show-gt-xs>\r\n        </div>\r\n        <md-button class="" aria-label="back" ng-click="$ctrl.categoriesService.deselect_category_item()" hide show-xs>\r\n            <md-icon>arrow_back</md-icon>\r\n        </md-button>\r\n\r\n        <md-button class="" aria-label="Favorite" ng-click="$ctrl.categoriesService.toggle_category_item_bookmark($ctrl.selectedItem)">\r\n            <md-icon>{{$ctrl.selectedItem.bookmarked ? \'favorite\' : \'favorite_outline\'}}</md-icon>\r\n        </md-button>\r\n\r\n    </div>\r\n</div>\r\n<loading-animation ng-if="$ctrl.categoriesService.selected_category_is_loading" layout="column" layout-align="center center" layout-fill></loading-animation>\r\n')}]),angular.module("Swp").config(["$httpProvider",function(e){e.interceptors.push(["$q","$injector",function(e,t){return{request:function(e){return e.url=e.url.replace(/^\/api/,SWP_CONFIG.api.path),e}}}])}]),angular.module("Swp").config(["$locationProvider","$stateProvider","$urlRouterProvider",function(e,t,a){e.html5Mode(!0),a.when("/","/people"),[{name:"swp",component:"swp"},{name:"swp.main",url:"/",component:"appMain"},{name:"swp.main.category",url:":category",component:"category"}].forEach(function(e){t.state(e)})}]),angular.module("LoadingAnimation",[]),angular.module("LoadingAnimation").component("loadingAnimation",{templateUrl:"static/swp/shared/loading-animation/loading-animation.template.html"}),angular.module("AppMain",["NavigationBar","Category"]),angular.module("AppMain").component("appMain",{templateUrl:"static/swp/app-main/app-main.template.html",controller:AppMain}),angular.module("NavigationBar",[]),angular.module("NavigationBar").component("navigationBar",{templateUrl:"static/swp/app-main/navigation-bar/navigation-bar.template.html",controller:NavigationBar}),angular.module("Category",["CategoryItemsList","CategorySelectedItem"]),angular.module("Category").component("category",{templateUrl:"static/swp/app-main/category/category.template.html",controller:Category}),angular.module("CategoryItemsList",[]),angular.module("CategoryItemsList").component("categoryItemsList",{templateUrl:"static/swp/app-main/category/category-items-list/category-items-list.template.html",controller:CategoryItemsList,bindings:{categoryItems:"<"}}),angular.module("CategorySelectedItem",[]),angular.module("CategorySelectedItem").component("categorySelectedItem",{templateUrl:"static/swp/app-main/category/category-selected-item/category-selected-item.template.html",controller:CategorySelectedItem,bindings:{selectedItem:"<"}}),angular.bootstrap(document,["Swp"]);